enum PrimitiveEventType {
  AgentJoined
  ResourceAdded
  AgentRequested
  TimeAdvanced
}

input PrimitiveEventInput {
  type: PrimitiveEventType!
  agentId: ID
  amount: Int
  capacity: Int
  tick: Int
}
  
type AllocationEntry {
  agentId: ID!
  amount: Int!
}

type Reason {
  kind: String!
  agentId: ID
  ratio: Float
  ticks: Int
  variance: Float
}

type Decision {
  options: [DecisionOption!]!
}

type Query {
  decision(
    events: [PrimitiveEventInput!]!
    seed: Int!
    topK: Int = 5
  ): Decision!
}

type DecisionOption {
  allocation: [AllocationEntry!]!
  score: Float!
  reasons: [Reason!]!
}
